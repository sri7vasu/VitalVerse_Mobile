"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
function serializerMiddleware(options, serializer) {
    return (next) => (args) => tslib_1.__awaiter(this, void 0, void 0, function* () {
        const endpointResolvedOptions = Object.assign(Object.assign({}, options), { endpoint: yield options.endpoint() });
        const request = yield serializer(args.input, endpointResolvedOptions);
        return next(Object.assign(Object.assign({}, args), { request }));
    });
}
exports.serializerMiddleware = serializerMiddleware;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplck1pZGRsZXdhcmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc2VyaWFsaXplck1pZGRsZXdhcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBU0EsU0FBZ0Isb0JBQW9CLENBS2xDLE9BQXFCLEVBQ3JCLFVBQWdEO0lBRWhELE9BQU8sQ0FDTCxJQUFxQyxFQUNKLEVBQUUsQ0FBQyxDQUNwQyxJQUFzQyxFQUNHLEVBQUU7UUFDM0MsTUFBTSx1QkFBdUIsbUNBQ3hCLE9BQU8sS0FDVixRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUMsUUFBUSxFQUFFLEdBQ25DLENBQUM7UUFDRixNQUFNLE9BQU8sR0FBRyxNQUFNLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLHVCQUF1QixDQUFDLENBQUM7UUFDdEUsT0FBTyxJQUFJLGlDQUNOLElBQUksS0FDUCxPQUFPLElBQ1AsQ0FBQztJQUNMLENBQUMsQ0FBQSxDQUFDO0FBQ0osQ0FBQztBQXZCRCxvREF1QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBSZXF1ZXN0U2VyaWFsaXplcixcbiAgU2VyaWFsaXplSGFuZGxlcixcbiAgU2VyaWFsaXplSGFuZGxlckFyZ3VtZW50cyxcbiAgU2VyaWFsaXplSGFuZGxlck91dHB1dCxcbiAgU2VyaWFsaXplTWlkZGxld2FyZSxcbiAgRW5kcG9pbnRCZWFyZXJcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVyTWlkZGxld2FyZTxcbiAgSW5wdXQgZXh0ZW5kcyBvYmplY3QsXG4gIE91dHB1dCBleHRlbmRzIG9iamVjdCxcbiAgUnVudGltZVV0aWxzIGV4dGVuZHMgRW5kcG9pbnRCZWFyZXJcbj4oXG4gIG9wdGlvbnM6IFJ1bnRpbWVVdGlscyxcbiAgc2VyaWFsaXplcjogUmVxdWVzdFNlcmlhbGl6ZXI8YW55LCBSdW50aW1lVXRpbHM+XG4pOiBTZXJpYWxpemVNaWRkbGV3YXJlPElucHV0LCBPdXRwdXQ+IHtcbiAgcmV0dXJuIChcbiAgICBuZXh0OiBTZXJpYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQ+XG4gICk6IFNlcmlhbGl6ZUhhbmRsZXI8SW5wdXQsIE91dHB1dD4gPT4gYXN5bmMgKFxuICAgIGFyZ3M6IFNlcmlhbGl6ZUhhbmRsZXJBcmd1bWVudHM8SW5wdXQ+XG4gICk6IFByb21pc2U8U2VyaWFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnRSZXNvbHZlZE9wdGlvbnMgPSB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgZW5kcG9pbnQ6IGF3YWl0IG9wdGlvbnMuZW5kcG9pbnQoKVxuICAgIH07XG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHNlcmlhbGl6ZXIoYXJncy5pbnB1dCwgZW5kcG9pbnRSZXNvbHZlZE9wdGlvbnMpO1xuICAgIHJldHVybiBuZXh0KHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICByZXF1ZXN0XG4gICAgfSk7XG4gIH07XG59XG4iXX0=